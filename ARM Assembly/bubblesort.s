		AREA RESET,CODE,READONLY; DEFINE A CODE AREA NAMED PROG18
ENTRY                            
		MOV R0,#13; SET R0 TO 13 (NUMBER OF ELEMENTS)
		LDR R1,=NUMS; LOAD ADDRESS OF NUMS INTO R1
		LDR R2,=0X40000000; LOAD ADDRESS 0X40000000 INTO R2
LOOP1 	LDR R3,[R1],#4; LOAD WORD FROM R1 INTO R3, POST-INCREMENT R1 BY 4
		STR R3,[R2],#4; STORE R3 AT ADDRESS IN R2, POST-INCREMENT R2 BY 4
		SUBS R0,R0,#1; DECREMENT R0 BY 1, UPDATE FLAGS
		BNE LOOP1; IF R0 != 0, BRANCH TO LOOP1
		MOV R12,#13; SET R12 TO 13 (OUTER LOOP COUNTER)
		LDR R11,=0X40000000; LOAD ADDRESS 0X40000000 INTO R11
LOOP3 	MOV R1,R11; SET R1 TO VALUE IN R11 (START OF ARRAY)
		SUBS R12,R12,#1; DECREMENT R12 BY 1, UPDATE FLAGS
		MOVNE R0,R12; IF R12 != 0, SET R0 TO R12 (INNER LOOP COUNTER)
		BEQ STOP; IF R12 == 0, BRANCH TO STOP
LOOP2 	ADD R2,R1,#4; SET R2 TO R1 + 4 (NEXT ELEMENT ADDRESS)
		LDR R3,[R1]; LOAD WORD FROM ADDRESS IN R1 INTO R3
		LDR R4,[R2]; LOAD WORD FROM ADDRESS IN R2 INTO R4
		CMP R3,R4; COMPARE R3 AND R4
		STRPL R3,[R2]; IF R3 >= R4, STORE R3 AT ADDRESS IN R2
		STRPL R4,[R1]; IF R3 >= R4, STORE R4 AT ADDRESS IN R1
		ADD R1,R1,#4; INCREMENT R1 BY 4 (MOVE TO NEXT ELEMENT)
		SUBS R0,R0,#1; DECREMENT R0 BY 1, UPDATE FLAGS
		BNE LOOP2; IF R0 != 0, BRANCH TO LOOP2
		CMP R12,#0; COMPARE R12 WITH 0
		BNE LOOP3; IF R12 != 0, BRANCH TO LOOP3
STOP 	B STOP                     
NUMS 	DCD 20,19,18,17,16,15,14,13,12,11,10,9,8  ;DEFINE ARRAY OF NUMBERS
		END                             